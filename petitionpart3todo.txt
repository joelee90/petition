TO-DO

if password / email doesn't match 

redirect to the login page


<COOKIES>
app.post("/petition")
req.session.sigId = results.rows[0].id;

app.post('/register')
req.session.usersInformation = results.rows[0].id;

app.post('/login')
req.session.usersInformation = results.rows[0].id;

app.post('profile')
req.session.sigId = results.rows[0].id;
(saving cookies)

------two different cookies for different things--

after profile(age, city, url) -> direct to

signed page which shows the list of all.

---------------------------------------------------
** if there aren't any signers

check whether the signature part is empty or not
bc empty signature still counts as a signature
which shouldn't

only those who signed the signature will be able to
view the list

input signature - where signature.img is stored.

saving the omg should happened after sth 
actually has been drawn on canvas.

the problem is that the empty canvas is still being
saved as an image which shouldn't happen.


draw -> save 
saves what's drawn.

result of draw

YAY!!!
---------------------------------------------------
!!FIX!! (Part 3)

  v - Login with wrong email not messaging to 
	'login again'
	(err.message Cannot read property 'length' of 	
	undefined)
 
  - know where cookie is saved and why
	when register - save cookie
	when signup for petition - save cookie

  v - In petition page, delete first, last bc user 
	submits them already when they register.

  - When login, check if the user already signed up
	for the petition or not.

  - direct to petition when register/login

  - Using 'clear' does not completely erased the canvas
	(which stores empty canvas without signature)

  -logout redirect to registration page

  - after registration - direct users to profile

  -login - petition - after signature - not redirect

  - see all signers need fix

  - registration -> profile -> signature -> see all  

  - when wrong email -> not working


(Part 4)

  v - display name(url), age, city(list all from same city)

  v - when city -> list all ppl from same city
	petition/signers/berlin(city)
	petition/signers/perth(city)

  - when u log in, must remember whether they signed or not
<Change the query that retrieves information from the users table by email address so that it also gets data from the signatures table. Thus you will be able to know whether the user has signed the petition or not as soon as they log in.>

	app.post('login')

	login -> check if user signed petition or not
	if user signed petition -> direct to 'see all signers'
	if user did not sign petition -> direct to 'petition'

	user -> register -> decide to sign or not 
	(but if user did not sign up in the first place)

	doesn't that mean all users already signed up?

	- now i can check with email if the user signed.

	
	as soon as login (compare input password $ db password)
	if correct redirect to '/petition' BUT!!!!
	first check if users email has signature.

	if signed -> to '/petition/signers'
	if not signed -> '/petition'


(Part 5)

  - logged out -> only register, login

  - logged in, signed -> only signers

  - app.use(middleware)


--------------------------TABLE-------------------------

              List of relations
 Schema |     Name     | Type  |    Owner     
--------+--------------+-------+--------------
 public | signings     | table | jonghyeoklee   userId, signature;
 public | user_profile | table | jonghyeoklee   age, city, homepage, userId
 public | usersinfo    | table | jonghyeoklee   first name, last name, email, password
(3 rows)


DROP TABLE
CREATE TABLE signings
 id | userid | signature | created_at 
----+--------+-----------+------------
(0 rows)

DROP TABLE
CREATE TABLE usersinfo
 id | firstname | lastname | email | password | created_at 
----+-----------+----------+-------+----------+------------
(0 rows)

CREATE TABLE user_profile
 id | age | city | homepage | userid | created_at 
----+-----+------+----------+--------+------------
(0 rows)

1. signature.sql
2. db.js
3. index.js app.get

---------------------------------------------------------


